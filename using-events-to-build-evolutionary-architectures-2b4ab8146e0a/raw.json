[{
  "tag": "FIGURE",
  "image": "https://miro.medium.com/max/30/1*f2IVAl0TbsfES9cFGYr40g.png?q=20",
  "type": "image",
  "file": "1*f2IVAl0TbsfES9cFGYr40g.png"
}, {
  "tag": "P",
  "text": "ğŸ“ Read this story later in Journal.",
  "translation": "laterç¨ååœ¨æ—¥è®°ä¸­é˜…è¯»æ­¤æ•…äº‹ã€‚"
}, {
  "tag": "P",
  "text": "ğŸ— Wake up every Sunday morning to the weekâ€™s most noteworthy Tech stories, opinions, and news waiting in your inbox: Get the noteworthy newsletter >",
  "translation": "ğŸ—æ¯ä¸ªæ˜ŸæœŸå¤©çš„æ—©æ™¨ï¼Œæ‚¨å¯ä»¥åœ¨æ”¶ä»¶ç®±ä¸­ç­‰å¾…æœ¬å‘¨æœ€å€¼å¾—å…³æ³¨çš„Techæ•…äº‹ï¼Œè§‚ç‚¹å’Œæ–°é—»ï¼šè·å–å€¼å¾—å…³æ³¨çš„æ–°é—»é€šè®¯>"
}, {
  "tag": "H1",
  "text": "Using Events to build evolutionary architectures",
  "translation": "ä½¿ç”¨äº‹ä»¶æ„å»ºæ¼”åŒ–æ¶æ„"
}, {
  "tag": "FIGURE",
  "image": "https://miro.medium.com/max/23/1*3FMo2_5BMfd-665ViO1-aw.jpeg?q=20",
  "type": "image",
  "file": "1*3FMo2_5BMfd-665ViO1-aw.jpeg"
}, {
  "tag": "P",
  "text": "Evolutionary architecture is software architecture that can be incrementally, continuously, and rapidly changed to deliver new functionality. While this has been common wisdom at lower levels of software engineering (SOLID principles are used to achieve something similar at code level), it has of late been possible to achieve the same kind of agility at macro level as well, using various strategies like containerization, microservices, and devops tools like CI/CD.",
  "translation": "æ¼”åŒ–ä½“ç³»ç»“æ„æ˜¯å¯ä»¥è¿›è¡Œå¢é‡ï¼Œè¿ç»­å’Œå¿«é€Ÿæ›´æ”¹ä»¥æä¾›æ–°åŠŸèƒ½çš„è½¯ä»¶ä½“ç³»ç»“æ„ã€‚ è™½ç„¶è¿™åœ¨è¾ƒä½çš„è½¯ä»¶å·¥ç¨‹æ°´å¹³ä¸Šæ˜¯å¸¸è¯†ï¼ˆä½¿ç”¨SOLIDåŸç†åœ¨ä»£ç çº§ä¸Šå®ç°ç±»ä¼¼çš„åŠŸèƒ½ï¼‰ï¼Œä½†æœ€è¿‘ä¹Ÿå¯ä»¥ä½¿ç”¨å®¹å™¨åŒ–ç­‰å„ç§ç­–ç•¥åœ¨å®çº§åˆ«ä¸Šå®ç°ç›¸åŒçš„æ•æ·æ€§ ï¼Œå¾®æœåŠ¡å’Œdevopså·¥å…·ï¼ˆä¾‹å¦‚CI / CDï¼‰ã€‚"
}, {
  "tag": "P",
  "text": "Today I want to talk about how we can use events to build evolutionary architectures and how events essentially represent the open-closed principle (OCP), but at architectural scale.",
  "translation": "ä»Šå¤©ï¼Œæˆ‘æƒ³è°ˆä¸€è°ˆå¦‚ä½•ä½¿ç”¨äº‹ä»¶æ¥æ„å»ºæ¼”åŒ–æ¶æ„ï¼Œä»¥åŠäº‹ä»¶åœ¨æœ¬è´¨ä¸Šå¦‚ä½•ä»£è¡¨å¼€æ”¾å¼å°é—­åŸåˆ™ï¼ˆOCPï¼‰ï¼Œä½†æ˜¯åœ¨æ¶æ„è§„æ¨¡ä¸Šã€‚"
}, {
  "tag": "H1",
  "text": "What are events",
  "translation": "ä»€ä¹ˆæ˜¯æ´»åŠ¨"
}, {
  "tag": "P",
  "text": "An event is a broadcast by a software system about something which has happened within its boundary. The system performs an operation, and on success of that operation, tells the whole world (usually via asynchronous messaging) that the operation has happened. The system will also pass along enough data in the event to make it meaningful to the external world.",
  "translation": "äº‹ä»¶æ˜¯è½¯ä»¶ç³»ç»Ÿå¹¿æ’­çš„æœ‰å…³å…¶è¾¹ç•Œå†…å‘ç”Ÿçš„äº‹ä»¶çš„æ¶ˆæ¯ã€‚ ç³»ç»Ÿæ‰§è¡Œä¸€é¡¹æ“ä½œï¼Œå¹¶åœ¨è¯¥æ“ä½œæˆåŠŸåå‘ŠçŸ¥æ•´ä¸ªä¸–ç•Œï¼ˆé€šå¸¸é€šè¿‡å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼‰è¯¥æ“ä½œå·²å‘ç”Ÿã€‚ è¯¥ç³»ç»Ÿè¿˜å°†åœ¨äº‹ä»¶ä¸­ä¼ é€’è¶³å¤Ÿçš„æ•°æ®ï¼Œä»¥ä½¿å…¶å¯¹å¤–éƒ¨ä¸–ç•Œæœ‰æ„ä¹‰ã€‚"
}, {
  "tag": "P",
  "text": "e.g. An order management may publish an ORDER_CONFIRMATION event every time an order is confirmed, and ITEM_CANCELLED event every time an ordered item is cancelled.",
  "translation": "ä¾‹å¦‚ è®¢å•ç®¡ç†å¯ä»¥åœ¨æ¯æ¬¡ç¡®è®¤è®¢å•æ—¶å‘å¸ƒORDER_CONFIRMATIONäº‹ä»¶ï¼Œå¹¶åœ¨æ¯æ¬¡å–æ¶ˆå·²è®¢è´­å•†å“æ—¶å‘å¸ƒITEM_CANCELLEDäº‹ä»¶ã€‚"
}, {
  "tag": "H1",
  "text": "Events vs Messages",
  "translation": "äº‹ä»¶ä¸æ¶ˆæ¯"
}, {
  "tag": "P",
  "text": "While they are often used inter-changeably by developers who are building asynchronous communication between two system, events and messages are fundamentally different and give rise to very different kinds of behaviours in software systems.",
  "translation": "å°½ç®¡å¼€å‘äººå‘˜ç»å¸¸åœ¨ä¸¤ä¸ªç³»ç»Ÿä¹‹é—´å»ºç«‹å¼‚æ­¥é€šä¿¡æ¥äº’æ¢ä½¿ç”¨å®ƒä»¬ï¼Œä½†æ˜¯äº‹ä»¶å’Œæ¶ˆæ¯åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”åœ¨è½¯ä»¶ç³»ç»Ÿä¸­å¼•èµ·äº†éå¸¸ä¸åŒçš„è¡Œä¸ºã€‚"
}, {
  "tag": "P",
  "text": "An event is a record of a certain action having happened in a system and is therefore defined in the language of the publishing system. The publisher cares not at all about who might be listening and merely guarantees that a certain set of event data will be emitted over a certain medium of transmission.",
  "translation": "äº‹ä»¶æ˜¯ç³»ç»Ÿä¸­å‘ç”Ÿçš„ç‰¹å®šåŠ¨ä½œçš„è®°å½•ï¼Œå› æ­¤æ˜¯ç”¨å‘å¸ƒç³»ç»Ÿçš„è¯­è¨€å®šä¹‰çš„ã€‚ å‘å¸ƒè€…æ ¹æœ¬ä¸åœ¨ä¹è°åœ¨ç›‘å¬ï¼Œè€Œåªæ˜¯ä¿è¯åœ¨ç‰¹å®šçš„ä¼ è¾“åª’ä»‹ä¸Šä¼šå‘å‡ºç‰¹å®šçš„äº‹ä»¶æ•°æ®é›†ã€‚"
}, {
  "tag": "P",
  "text": "A message, on the other hand, is a peer-to-peer construct. The publisher of the message targets the message at a specific consumer system and the contents must be defined in the language of the consumer. Such a message would not be meaningful to others, even if they were to listen in. In a sense, a message sent by system A to system B is API invocation done asynchronously.",
  "translation": "å¦ä¸€æ–¹é¢ï¼Œæ¶ˆæ¯æ˜¯å¯¹ç­‰ç»“æ„ã€‚ æ¶ˆæ¯çš„å‘å¸ƒè€…å°†æ¶ˆæ¯å®šå‘åˆ°ç‰¹å®šçš„ä½¿ç”¨è€…ç³»ç»Ÿï¼Œå¹¶ä¸”å¿…é¡»ä»¥ä½¿ç”¨è€…çš„è¯­è¨€å®šä¹‰å†…å®¹ã€‚ è¿™æ ·çš„æ¶ˆæ¯å³ä½¿å¯¹å…¶ä»–äººæ¥è¯´ä¹Ÿä¸ä¼šæœ‰æ„ä¹‰ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œç³»ç»ŸAå‘é€ç»™ç³»ç»ŸBçš„æ¶ˆæ¯æ˜¯å¼‚æ­¥å®Œæˆçš„APIè°ƒç”¨ã€‚"
}, {
  "tag": "H1",
  "text": "Event based architecture",
  "translation": "åŸºäºäº‹ä»¶çš„æ¶æ„"
}, {
  "tag": "P",
  "text": "If both event and message travel over an asynchronous transport medium (e.g. Kafka, RabbitMQ), how does it matter which one is which? It matters when we think about interactions between many distributed systems and who knows about who in such a world.",
  "translation": "å¦‚æœäº‹ä»¶å’Œæ¶ˆæ¯éƒ½é€šè¿‡å¼‚æ­¥ä¼ è¾“ä»‹è´¨ï¼ˆä¾‹å¦‚Kafkaï¼ŒRabbitMQï¼‰ä¼ è¾“ï¼Œé‚£ä¹ˆå“ªä¸ªæ˜¯å“ªä¸ªæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ å½“æˆ‘ä»¬è€ƒè™‘è®¸å¤šåˆ†å¸ƒå¼ç³»ç»Ÿä¹‹é—´çš„äº¤äº’ä»¥åŠè°çŸ¥é“è¿™æ ·ä¸€ä¸ªä¸–ç•Œä¸­çš„è°æ—¶ï¼Œè¿™å¾ˆé‡è¦ã€‚"
}, {
  "tag": "P",
  "text": "If we use events to propagate information across our distributed system, we come up with a very loosely coupled architecture where there is minimal knowledge of each other across systems. All systems either broadcast events corresponding to activities in their world or consume events from other systems to trigger workflows in their own world. As a publisher, a system does not know who will consume its events. As a consumer, a system is not aware of where the event came from, just that it should perform something when it receives such an event.",
  "translation": "å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº‹ä»¶åœ¨æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¼ æ’­ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šæƒ³åˆ°ä¸€ä¸ªéå¸¸æ¾æ•£è€¦åˆçš„ä½“ç³»ç»“æ„ï¼Œåœ¨è¿™ç§ä½“ç³»ç»“æ„ä¸­ï¼Œå½¼æ­¤ä¹‹é—´çš„çŸ¥è¯†å¾ˆå°‘ã€‚ æ‰€æœ‰ç³»ç»Ÿè¦ä¹ˆå¹¿æ’­ä¸ä»–ä»¬çš„ä¸–ç•Œä¸­çš„æ´»åŠ¨ç›¸å¯¹åº”çš„äº‹ä»¶ï¼Œè¦ä¹ˆä½¿ç”¨æ¥è‡ªå…¶ä»–ç³»ç»Ÿçš„äº‹ä»¶æ¥è§¦å‘ä»–ä»¬è‡ªå·±çš„ä¸–ç•Œä¸­çš„å·¥ä½œæµã€‚ ä½œä¸ºå‘å¸ƒè€…ï¼Œç³»ç»Ÿä¸çŸ¥é“è°å°†ä½¿ç”¨å…¶äº‹ä»¶ã€‚ ä½œä¸ºæ¶ˆè´¹è€…ï¼Œç³»ç»Ÿä¸çŸ¥é“äº‹ä»¶æ¥è‡ªä½•å¤„ï¼Œåªæ˜¯å®ƒåœ¨æ”¶åˆ°æ­¤ç±»äº‹ä»¶æ—¶åº”è¯¥æ‰§è¡ŒæŸäº›æ“ä½œã€‚"
}, {
  "tag": "P",
  "text": "e.g. An order system might emit an ORDER_CONFIRMED event, which may be consumed by an invoicing system and an accounting system. The invoicing system will now generate an invoice and emit INVOICE_GENERATED event. Listening to the INVOICE_GENERATED event, the order system may send an email to customer. The order system sees one publish and one consume but does not trace a causality between the two.",
  "translation": "ä¾‹å¦‚ è®¢å•ç³»ç»Ÿå¯èƒ½ä¼šå‘å‡ºORDER_CONFIRMEDäº‹ä»¶ï¼Œæ­¤äº‹ä»¶å¯èƒ½ç”±å¼€ç¥¨ç³»ç»Ÿå’Œä¼šè®¡ç³»ç»Ÿä½¿ç”¨ã€‚ ç°åœ¨ï¼Œå‘ç¥¨ç³»ç»Ÿå°†ç”Ÿæˆå‘ç¥¨å¹¶å‘å‡ºINVOICE_GENERATEDäº‹ä»¶ã€‚ ä¾¦å¬INVOICE_GENERATEDäº‹ä»¶ï¼Œè®¢å•ç³»ç»Ÿå¯èƒ½ä¼šå‘å®¢æˆ·å‘é€ç”µå­é‚®ä»¶ã€‚ è®¢å•ç³»ç»Ÿçœ‹åˆ°ä¸€ä¸ªå‘å¸ƒï¼Œä¸€ä¸ªæ¶ˆè´¹ï¼Œä½†æ˜¯æ²¡æœ‰è¿½è¸ªä¸¤è€…ä¹‹é—´çš„å› æœå…³ç³»ã€‚"
}, {
  "tag": "FIGURE",
  "image": "https://miro.medium.com/max/30/1*jbztDhd2g_kXLZIvrr23Og.png?q=20",
  "caption": "Workflow in event driven systems",
  "type": "image",
  "file": "1*jbztDhd2g_kXLZIvrr23Og.png"
}, {
  "tag": "P",
  "text": "In the micro-service world, events give rise to the choreography style of building workflows. Essentially, this is no explicitly defined workflow at all but service are mapped to respond to certain set of events. The interaction described above is an example. An end-to-end workflow is achieved without describing it as such because we are able to compose it from independent event-service interations. No one needs to know the complete flow as it does not really exist.",
  "translation": "åœ¨å¾®æœåŠ¡ä¸–ç•Œä¸­ï¼Œäº‹ä»¶å¼•èµ·äº†æ„å»ºå·¥ä½œæµçš„ç¼–æ’é£æ ¼ã€‚ æœ¬è´¨ä¸Šï¼Œè¿™æ ¹æœ¬ä¸æ˜¯æ˜ç¡®å®šä¹‰çš„å·¥ä½œæµï¼Œè€Œæ˜¯å°†æœåŠ¡æ˜ å°„ä¸ºå“åº”ç‰¹å®šäº‹ä»¶é›†ã€‚ ä¸Šè¿°äº¤äº’æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚ æ— éœ€æè¿°å°±å¯ä»¥å®ç°ç«¯åˆ°ç«¯å·¥ä½œæµï¼Œå› ä¸ºæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ç‹¬ç«‹çš„äº‹ä»¶æœåŠ¡äº¤äº’æ¥æ„æˆå®ƒã€‚ æ²¡æœ‰äººéœ€è¦çŸ¥é“å®Œæ•´çš„æµç¨‹ï¼Œå› ä¸ºå®ƒå®é™…ä¸Šå¹¶ä¸å­˜åœ¨ã€‚"
}, {
  "tag": "H1",
  "text": "Message based architecture",
  "translation": "åŸºäºæ¶ˆæ¯çš„æ¶æ„"
}, {
  "tag": "P",
  "text": "In a message based architecture, the order system would emit two messages : GENERATE_INVOICE (to the invoicing service) and BOOK_REVENUE (to the accounting system) with order identifier as reference and then wait (callback based) on the invoicing system response. The invoicing system, after generating the invoice, sends back an acknowledging message for the GENERATE_INVOICE message, on receiving which the order system sends an email to the customer.",
  "translation": "åœ¨åŸºäºæ¶ˆæ¯çš„ä½“ç³»ç»“æ„ä¸­ï¼Œå®šå•ç³»ç»Ÿå°†å‘å‡ºä¸¤ä¸ªæ¶ˆæ¯ï¼šGENERATE_INVOICEï¼ˆå‘ç»™å‘ç¥¨æœåŠ¡ï¼‰å’ŒBOOK_REVENUEï¼ˆå‘ç»™è®¡è´¹ç³»ç»Ÿï¼‰ï¼Œä»¥è®¢å•æ ‡è¯†ç¬¦ä¸ºå‚è€ƒï¼Œç„¶åç­‰å¾…ï¼ˆåŸºäºå›è°ƒï¼‰å‘ç¥¨ç³»ç»Ÿå“åº”ã€‚ å‘ç¥¨ç³»ç»Ÿåœ¨ç”Ÿæˆå‘ç¥¨åï¼Œä¼šå‘é€å›æœ‰å…³GENERATE_INVOICEæ¶ˆæ¯çš„ç¡®è®¤æ¶ˆæ¯ï¼Œè®¢å•ç³»ç»Ÿæ”¶åˆ°è¯¥æ¶ˆæ¯åï¼Œå®šå•ç³»ç»Ÿä¼šå‘å®¢æˆ·å‘é€ç”µå­é‚®ä»¶ã€‚"
}, {
  "tag": "FIGURE",
  "image": "https://miro.medium.com/max/30/1*RkVBLK0Jztfdu-n3rovqmA.png?q=20",
  "caption": "Workflows in a message-driven architecture",
  "type": "image",
  "file": "1*RkVBLK0Jztfdu-n3rovqmA.png"
}, {
  "tag": "P",
  "text": "Note how systems are aware of each other in this paradigm. They may be decoupled in time due to the use of asynchronous messaging, but they are coupled at the domain handover boundary. However, since systems are aware of each other, we can build nuanced experiences around handshakes (the ack sent by the invoicing system in our example above is such an example) and error handling which would not be possible in the event driven world.",
  "translation": "æ³¨æ„åœ¨æ­¤èŒƒä¾‹ä¸­ç³»ç»Ÿå¦‚ä½•ç›¸äº’äº†è§£ã€‚ ç”±äºä½¿ç”¨å¼‚æ­¥æ¶ˆæ¯ä¼ é€’ï¼Œå®ƒä»¬å¯èƒ½ä¼šåœ¨æ—¶é—´ä¸Šè§£è€¦ï¼Œä½†æ˜¯å®ƒä»¬åœ¨åŸŸåˆ‡æ¢è¾¹ç•Œå¤„è€¦åˆã€‚ ä½†æ˜¯ï¼Œç”±äºç³»ç»Ÿä¹‹é—´ç›¸äº’äº†è§£ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å›´ç»•æ¡æ‰‹ï¼ˆåœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå‘ç¥¨ç³»ç»Ÿå‘é€çš„ç¡®è®¤å°±æ˜¯è¿™æ ·çš„ç¤ºä¾‹ï¼‰å’Œé”™è¯¯å¤„ç†å»ºç«‹ç»†å¾®çš„ä½“éªŒï¼Œè€Œåœ¨äº‹ä»¶é©±åŠ¨çš„ä¸–ç•Œä¸­è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚"
}, {
  "tag": "P",
  "text": "In the micro-service world, messages give rise to orchestration style workflows. A service or an orchestrating system (often a worflow engine like JBPM or its more modern avatars like Conductor and Cadence) captures the sequence in which a set of services should be invoked to achieve an end-to-end output and it invokes them via messages (or APIs, as the case may be). ESB based systems are a version of messaging architectures.",
  "translation": "åœ¨å¾®æœåŠ¡ä¸–ç•Œä¸­ï¼Œæ¶ˆæ¯å¼•å‘äº†ä¸šåŠ¡æµç¨‹é£æ ¼çš„å·¥ä½œæµç¨‹ã€‚ æœåŠ¡æˆ–ç¼–æ’ç³»ç»Ÿï¼ˆé€šå¸¸æ˜¯JBPMä¹‹ç±»çš„worflowå¼•æ“ï¼Œæˆ–Conductorå’ŒCadenceä¹‹ç±»çš„æ›´ç°ä»£çš„åŒ–èº«ï¼‰æ•è·äº†åº”è°ƒç”¨ä¸€ç»„æœåŠ¡ä»¥å®ç°ç«¯åˆ°ç«¯è¾“å‡ºå¹¶é€šè¿‡æ¶ˆæ¯è°ƒç”¨å®ƒä»¬çš„é¡ºåºã€‚ ï¼ˆæˆ–APIï¼ˆè§†æƒ…å†µè€Œå®šï¼‰ï¼‰ã€‚ åŸºäºESBçš„ç³»ç»Ÿæ˜¯æ¶ˆæ¯ä¼ é€’ä½“ç³»ç»“æ„çš„ç‰ˆæœ¬ã€‚"
}, {
  "tag": "H1",
  "text": "Events are OCP",
  "translation": "äº‹ä»¶æ˜¯OCP"
}, {
  "tag": "P",
  "text": "Now it should be clearer why I think of events as a form of open-closed principle (OCP). OCP says that our code should be open to extension but closed to change. i.e. anyone who wants to add additional funationality to existing code should be able to do so from the outside, without having to touch the code itself. In an event based architecture, all a system is responsible for is performing its function and emitting the corresponding events. It doesnâ€™t know which other systems are consuming these events or how.",
  "translation": "ç°åœ¨åº”è¯¥æ›´æ¸…æ¥šä¸ºä»€ä¹ˆæˆ‘å°†äº‹ä»¶è§†ä¸ºä¸€ç§å¼€æ”¾å¼åŸåˆ™ã€‚ OCPè¡¨ç¤ºï¼Œæˆ‘ä»¬çš„ä»£ç åº”å…è®¸æ‰©å±•ï¼Œä½†ä¸èƒ½æ›´æ”¹ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä»»ä½•æƒ³è¦ä¸ºç°æœ‰ä»£ç æ·»åŠ æ›´å¤šåŠŸèƒ½çš„äººéƒ½åº”è¯¥èƒ½å¤Ÿä»å¤–éƒ¨è¿›è¡Œæ“ä½œï¼Œè€Œæ— éœ€æ¥è§¦ä»£ç æœ¬èº«ã€‚ åœ¨åŸºäºäº‹ä»¶çš„ä½“ç³»ç»“æ„ä¸­ï¼Œæ‰€æœ‰ç³»ç»Ÿè´Ÿè´£æ‰§è¡Œå…¶åŠŸèƒ½å¹¶å‘å‡ºç›¸åº”çš„äº‹ä»¶ã€‚ å®ƒä¸çŸ¥é“å“ªäº›å…¶ä»–ç³»ç»Ÿæ­£åœ¨ä½¿ç”¨è¿™äº›äº‹ä»¶æˆ–å¦‚ä½•ä½¿ç”¨è¿™äº›äº‹ä»¶ã€‚"
}, {
  "tag": "P",
  "text": "So if we were to change the implementation of our current invoicing system, or to build different invoicing systems for different types of orders, or dontâ€™t want to send notifications for some types of invoices, we could do it all without touching the order system itself. Whole new things could be developed outside of the order system to enrich the order management platform without touching the order system. The is the open-closed principle at work on an architectural scale.",
  "translation": "å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è¦æ›´æ”¹å½“å‰å‘ç¥¨ç³»ç»Ÿçš„å®ç°ï¼Œæˆ–è€…ä¸ºä¸åŒç±»å‹çš„è®¢å•æ„å»ºä¸åŒçš„å‘ç¥¨ç³»ç»Ÿï¼Œæˆ–è€…ä¸æƒ³ä¸ºæŸäº›ç±»å‹çš„å‘ç¥¨å‘é€é€šçŸ¥ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨ä¸è§¦åŠè®¢å•ç³»ç»Ÿçš„æƒ…å†µä¸‹å®Œæˆæ‰€æœ‰æ“ä½œ æœ¬èº«ã€‚ å¯ä»¥åœ¨è®¢å•ç³»ç»Ÿä¹‹å¤–å¼€å‘å…¨æ–°çš„äº§å“ï¼Œä»¥ä¸°å¯Œè®¢å•ç®¡ç†å¹³å°ï¼Œè€Œæ— éœ€æ¥è§¦è®¢å•ç³»ç»Ÿã€‚ è¿™æ˜¯åœ¨å»ºç­‘è§„æ¨¡ä¸Šå·¥ä½œçš„å¼€é—­åŸåˆ™ã€‚"
}, {
  "tag": "H1",
  "text": "Evolving an event based architecture",
  "translation": "æ¼”åŒ–åŸºäºäº‹ä»¶çš„æ¶æ„"
}, {
  "tag": "P",
  "text": "Letâ€™s talk a little more about how we would evolve an architecture based on events. We have already seen how we can change everything around a system without touching the system itself. Now what would we do if we wanted to change this system itself (the order sytem in our previous example)? How to manage the impact on other system?",
  "translation": "è®©æˆ‘ä»¬å†è°ˆè°ˆå¦‚ä½•æ ¹æ®äº‹ä»¶å‘å±•æ¶æ„ã€‚ æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•åœ¨ä¸å½±å“ç³»ç»Ÿæœ¬èº«çš„æƒ…å†µä¸‹æ›´æ”¹ç³»ç»Ÿå‘¨å›´çš„æ‰€æœ‰å†…å®¹ã€‚ ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ›´æ”¹æ­¤ç³»ç»Ÿæœ¬èº«ï¼ˆä¸Šä¸€ä¸ªç¤ºä¾‹ä¸­çš„é¡ºåºç³»ç»Ÿï¼‰ï¼Œæˆ‘ä»¬å°†æ€ä¹ˆåŠï¼Ÿ å¦‚ä½•ç®¡ç†å¯¹å…¶ä»–ç³»ç»Ÿçš„å½±å“ï¼Ÿ"
}, {
  "tag": "P",
  "text": "As it turns out, there is no/minimal impact. As far as all the other systems are concerned, this system does not exist. For them, the event stream IS the fact of life, and as long as the events continue to flow in, it doesnâ€™t mater to them whether they are coming from the same system or from the next version of it or from a entirely new system. Even if we build a new system which does not abide by the current event structure or semantics, it is often only a matter of understanding the new event data and massaging it into the consuming systems own language.",
  "translation": "äº‹å®è¯æ˜ï¼Œæ²¡æœ‰å½±å“/å½±å“å¾ˆå°ã€‚ å°±æ‰€æœ‰å…¶ä»–ç³»ç»Ÿè€Œè¨€ï¼Œè¯¥ç³»ç»Ÿä¸å­˜åœ¨ã€‚ å¯¹äºä»–ä»¬æ¥è¯´ï¼Œäº‹ä»¶æµæ˜¯ç”Ÿæ´»ä¸­çš„äº‹å®ï¼Œåªè¦äº‹ä»¶ç»§ç»­æµè¿›æ¥ï¼Œæ— è®ºäº‹ä»¶æ˜¯æ¥è‡ªåŒä¸€ç³»ç»Ÿï¼Œå®ƒçš„ä¸‹ä¸€ç‰ˆæœ¬è¿˜æ˜¯æ¥è‡ªå…¨æ–°ç³»ç»Ÿï¼Œäº‹ä»¶å¯¹ä»–ä»¬æ¥è¯´éƒ½ä¸é‡è¦ ç³»ç»Ÿã€‚ å³ä½¿æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªä¸éµå®ˆå½“å‰äº‹ä»¶ç»“æ„æˆ–è¯­ä¹‰çš„æ–°ç³»ç»Ÿï¼Œé€šå¸¸ä¹Ÿä»…æ˜¯äº†è§£æ–°äº‹ä»¶æ•°æ®å¹¶å°†å…¶æŒ‰æ‘©æˆä½¿ç”¨ç³»ç»Ÿçš„è¯­è¨€çš„é—®é¢˜ã€‚"
}, {
  "tag": "P",
  "text": "This kind of decoupling is very powerful when we want to quickly move around our technical constructs. A widely employed strategy for building new versions of software is the strangler pattern where you progressively migrate and deploy functionality from one version of a software to the next one, all the while keeping the structure of the events same. As long as we keep the event flow backward compatible, no one need to know that something is changing. This pattern is often used in migrating from monoliths to micro-services.",
  "translation": "å½“æˆ‘ä»¬æƒ³å¿«é€Ÿç§»åŠ¨æŠ€æœ¯æ„æ¶æ—¶ï¼Œè¿™ç§å»è€¦åŠŸèƒ½éå¸¸å¼ºå¤§ã€‚ æ„ç­‘å‹’ç´¢æ¨¡å¼æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ„å»ºæ–°è½¯ä»¶ç‰ˆæœ¬çš„ç­–ç•¥ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­é€æ­¥å°†åŠŸèƒ½ä»è½¯ä»¶çš„ä¸€ä¸ªç‰ˆæœ¬è¿ç§»å’Œéƒ¨ç½²åˆ°ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ŒåŒæ—¶å§‹ç»ˆä¿æŒäº‹ä»¶çš„ç»“æ„ä¸å˜ã€‚ åªè¦æˆ‘ä»¬ä½¿äº‹ä»¶æµå‘åå…¼å®¹ï¼Œå°±ä¸éœ€è¦çŸ¥é“æŸäº›äº‹æƒ…æ­£åœ¨æ”¹å˜ã€‚ è¿™ç§æ¨¡å¼é€šå¸¸ç”¨äºä»æ•´ä½“è¿ç§»åˆ°å¾®æœåŠ¡ã€‚"
}, {
  "tag": "H1",
  "text": "Event-ful Pitfalls!",
  "translation": "å¤šäº‹çš„é™·é˜±ï¼"
}, {
  "tag": "P",
  "text": "However, this degree of decoupling comes at a price. There are some problems that must be kept in mind when adopting event driven architectures.",
  "translation": "ä½†æ˜¯ï¼Œè¿™ç§ç¨‹åº¦çš„å»è€¦æ˜¯æœ‰ä»£ä»·çš„ã€‚ åœ¨é‡‡ç”¨äº‹ä»¶é©±åŠ¨çš„ä½“ç³»ç»“æ„æ—¶ï¼Œå¿…é¡»ç‰¢è®°ä¸€äº›é—®é¢˜ã€‚"
}, {
  "tag": "P",
  "text": "The most important problem is one of tracking business workflows. Since systems do not collborate with each other but rather with events, it becomes difficult to track what the status of any business process is. Long pipelines like order processing become very difficult to track and manage. Answering â€œdefine the complete process of order fulfilmentâ€ can have you running all over the engineering department!",
  "translation": "æœ€é‡è¦çš„é—®é¢˜æ˜¯è·Ÿè¸ªä¸šåŠ¡å·¥ä½œæµä¹‹ä¸€ã€‚ ç”±äºç³»ç»Ÿå½¼æ­¤ä¹‹é—´ä¸åä½œï¼Œè€Œæ˜¯ä¸äº‹ä»¶åä½œï¼Œå› æ­¤å¾ˆéš¾è·Ÿè¸ªä»»ä½•ä¸šåŠ¡æµç¨‹çš„çŠ¶æ€ã€‚ åƒè®¢å•å¤„ç†è¿™æ ·çš„é•¿ç®¡é“å¾ˆéš¾è·Ÿè¸ªå’Œç®¡ç†ã€‚ å›ç­”â€œå®šä¹‰è®¢å•å±¥è¡Œçš„å®Œæ•´è¿‡ç¨‹â€å¯ä»¥ä½¿æ‚¨éåŠæ•´ä¸ªå·¥ç¨‹éƒ¨é—¨ï¼"
}, {
  "tag": "P",
  "text": "The other, lesser problem is around error handling. If one system suffers from an outage and loses some messages, there is no straightforward way to re-generate/replay them. The publisher gives no guarantee that it can re-publish them. Persistent messaging system like Kafka help to a certain extent, but guaranteeing their uptime and resilience, even more than the core services, becomes a mission critical problem for the whole company.",
  "translation": "å¦ä¸€ä¸ªè¾ƒå°çš„é—®é¢˜æ˜¯é”™è¯¯å¤„ç†ã€‚ å¦‚æœä¸€ä¸ªç³»ç»Ÿå‡ºç°æ•…éšœå¹¶ä¸¢å¤±äº†ä¸€äº›æ¶ˆæ¯ï¼Œåˆ™æ²¡æœ‰ç›´æ¥çš„æ–¹æ³•å¯ä»¥é‡æ–°ç”Ÿæˆ/é‡æ”¾å®ƒä»¬ã€‚ å‘å¸ƒè€…ä¸ä¿è¯å¯ä»¥é‡æ–°å‘å¸ƒå®ƒä»¬ã€‚ åƒKafkaè¿™æ ·çš„æŒä¹…æ€§æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿåœ¨ä¸€å®šç¨‹åº¦ä¸Šæœ‰æ‰€å¸®åŠ©ï¼Œä½†è¦ä¿è¯å®ƒä»¬çš„æ­£å¸¸è¿è¡Œæ—¶é—´å’Œå¼¹æ€§ï¼ˆç”šè‡³æ¯”æ ¸å¿ƒæœåŠ¡è¿˜è¦é‡è¦ï¼‰ï¼Œå·²æˆä¸ºæ•´ä¸ªå…¬å¸çš„å…³é”®ä»»åŠ¡ã€‚"
}, {
  "tag": "P",
  "text": "In some cases, we are all right accepting a little coupling in order to attain business cohesion and debuggability. Simply enabling an event stream for your system will decouple you from all other use-cases which you do not deem to be â€œcoreâ€ for your domain, while you retain the freedom to sign up for message driven use cases when you must. How to distinguish these situations will, of course, vary from use-case to use-case. The key thing, as always, is tradeoffs.",
  "translation": "åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¥å—ä¸€äº›è€¦åˆï¼Œä»¥å®ç°ä¸šåŠ¡å‡èšåŠ›å’Œå¯è°ƒè¯•æ€§ã€‚ åªéœ€ä¸ºç³»ç»Ÿå¯ç”¨äº‹ä»¶æµï¼Œå°±å¯ä»¥å°†æ‚¨ä¸æ‰€æœ‰å…¶ä»–æ‚¨è®¤ä¸ºä¸æ˜¯åŸŸæ ¸å¿ƒçš„ç”¨ä¾‹è„±é’©ï¼ŒåŒæ—¶ä¿ç•™åœ¨å¿…è¦æ—¶æ³¨å†Œæ¶ˆæ¯é©±åŠ¨ç”¨ä¾‹çš„è‡ªç”±ã€‚ å½“ç„¶ï¼Œå¦‚ä½•åŒºåˆ†è¿™äº›æƒ…å†µï¼Œå°†éšç”¨ä¾‹çš„ä¸åŒè€Œä¸åŒã€‚ ä¸å¾€å¸¸ä¸€æ ·ï¼Œå…³é”®æ˜¯æƒè¡¡ã€‚"
}, {
  "tag": "P",
  "text": "Sprinkle carefully for a juicy architecture!",
  "translation": "ä»”ç»†æ´’ä¸Šå¤šæ±çš„å»ºç­‘ï¼"
}]